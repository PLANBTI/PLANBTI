<html layout:decorate="~{common/layout.html}">

<head>
    <title>SHOP | PLANBTI</title>
</head>

<body>

<main layout:fragment="main" class="container mx-12 py-8 min-h-screen">
    <div class="flex flex-col mt-24">
        <ul class="menu bg-base-100 w-60 flex-none">
            <th:block th:each="category : ${categories}">
                <li><a  th:href="@{/shop/(name=${category.name})}" th:text="${category.name}"></a></li>
            </th:block>
        </ul>
        <div th:if="${!paging.isEmpty()}" class="flex flex-wrap xl:min-w-full">
            <a th:href="@{/product/detail/{id}(id=${product.getId()})}" class="w-60 h-64 bg-base-100 m-4" th:each="product : ${paging}">
                <img src="" class="h-44 bg-green-500"> <!-- 식물 이미지 -->
                <div class="w-60 h-20 p-4">
                    <h2 class="card-title mb-2" th:text="${product.getName()}"></h2>
                    <p class="flex justify-end" th:text="|${product.getSalePrice()} 원|"></p>
                </div>
            </a>
        </div>
    </div>

    <!-- 페이징처리 시작 -->
    <div th:if="${!paging.isEmpty()}" class="w-full mt-20">
        <ul class="pagination flex justify-center">
            <li class="page-item m-2" th:classappend="${!paging.hasPrevious} ? 'disabled'">
                <a class="page-link" th:href="@{|?page=${paging.number}|}">
                    <span>이전</span>
                </a>
            </li>
            <li th:each="page: ${#numbers.sequence(1, paging.totalPages)}"
                th:classappend="${page == paging.number} ? 'active'"
                class="page-item m-2">
                <a th:text="${page}" class="page-link" th:href="@{|?page=${page - 1}|}"></a>
            </li>
            <li class="page-item m-2" th:classappend="${!paging.hasNext} ? 'disabled'">
                <a class="page-link" th:href="@{|?page=${paging.number}|}">
                    <span>다음</span>
                </a>
            </li>
        </ul>

</div>
<!-- 페이징처리 끝 -->

<footer class="bg-green-100 py-8">
    <div class="container mx-auto text-center">
        <p><i class="fa-regular fa-copyright"></i> 2023 <b>PLANBTI</b>. All rights reserved.</p>
</main>

</body>

</html>